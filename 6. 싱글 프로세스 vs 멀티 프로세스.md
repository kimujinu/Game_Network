# 6. 싱글 프로세스 vs 멀티 프로세스

<pre>
만약 게임이 싱글 프로세스로 이루어져 있다고 한다면, 그것은 서버가 한개라고 말하는 것과 같다.
만약 그렇다면 인기가 많아져서 서버가 감당할 수 없을만큼 늘어난다면??
-> 게임 서버의 성능을 올려야 할 것이다. 그것을 Scale UP 방식이라고 한다.
   과거에는 이렇게 많이 사용하였다.
-> 하지만, 그렇다고 해서 무조건적으로 Scale up방식을 사용하면 서버의 성능이 올라가는가?
   -> 그것도 아니다. 머신이 성능이 올라가더라도 실제 프로세스 성능이 비례하게 올라가지 않는다. 오히려 성능이 떨어지는 경우도 있을 수도 있다.
      이러한 결과를 방지하기 위하여 Scale out방식을 사용하기 시작하였다.

Scale out방식
-> 머신의 성능이 아닌 머신의 수를 늘리는 방식.

Scale Up, Scale Out 정리

Scale Up : 싱글 프로세스, 머신의 성능을 올리는 방식
    -> 서버 성능이 좋아질수록 비용이 높다.
    -> 가용성이 낮다.

Scale Out : 멀티 프로세스, 머신의 수를 늘리는 방식
    -> 서버의 수를 늘리는 것이기 때문에 상대적으로 비용이 낮다.
    -> 가용성이 높다.

초기에는 Scale Up 방식이 경제적일 수 있지만, 장기적인 측면으로 보면 Scale Out방식이 더 경제적이다.

정리 :

싱글 프로세스

    장점 : -> 구조가 단순하다. Seamless하다(여러 구조로 나뉘어져 있지 않기 때문에 관리가 단순하다). 

    단점 : -> 가용성이 떨어진다. 만약 서버가 한개로 이루어져 있어서 해당 서버가 꺼진다면? 
              SPOF(Single Point of Fail)가 발생하여 해당 게임에 큰 문제가 발생한다.
           -> 비용이 높다.

멀티 프로세스

    장점 : -> 똑같은 프로세스가 여러개가 하나의 서버로 이루어져 있다면 하나의 프로세스가 죽는다고 해도
              다른 프로세스가 하나의 서버를 유지 시키기 때문에 SPOF가 발생하지는 않는다.
              이것을 가용성이 높다고 한다.
           -> 비용이 낮다.

    단점 : -> 구조가 복잡하다. 여러 구조로 나뉘어져 있기 때문에 어느정도 끊어짐이 있다.
           -> 업데이트를 한다면 배포의 양이 많다.

이러한 장점들 때문에 Scale Up 방식에서 Scale Out 방식으로 많이 바뀌었다.

그렇다면 MMORPG에서 멀티프로세스는 어떻게 적용되어 있는가??
-> MMORPG를 하다보면 사냥터마다 나뉘어져 있는 경우나, 어느 지역으로 넘어갈때 로딩화면이 뜨는 경우를 
   많이 보았을 것이다. 그것이 프로세스마다 다르게 나누어져 구획화되어 각 지역마다 프로세스 1, 프로세스 2 ..
   이런식으로 나눈것을 Zone 방식으로 나눈것이다. 지역별로 나눈 것이다.

-> 다르게 적용된 것은 메이플스토리를 하다보면 채널이 많이 나누어져 있는데
   채널마다 프로세스를 나누어 구획화를 하게한 Channel 방식도 많이 사용되고 있다.

-> 두 방식 합쳐서도 많이 사용하기도 한다.

ref: https://youtu.be/U2FUy3094Ac
</pre>
